# Lingualink Core æµ‹è¯•æŒ‡å—

æœ¬æ–‡æ¡£ä»‹ç»å¦‚ä½•æµ‹è¯• Lingualink Core çš„å„é¡¹åŠŸèƒ½ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨æœåŠ¡

é¦–å…ˆå¯åŠ¨ Lingualink Core æœåŠ¡ï¼š

```bash
# æ–¹å¼1: ç›´æ¥è¿è¡Œ
go run cmd/server/main.go

# æ–¹å¼2: ä½¿ç”¨Docker
docker-compose up lingualink-core

# æ–¹å¼3: æ„å»ºåè¿è¡Œ
go build -o lingualink cmd/server/main.go
./lingualink
```

æœåŠ¡å¯åŠ¨åï¼Œé»˜è®¤ç›‘å¬åœ¨ `http://localhost:8080`

### 2. åŸºç¡€åŠŸèƒ½æµ‹è¯•

è¿è¡Œå¿«é€Ÿæµ‹è¯•è„šæœ¬éªŒè¯åŸºç¡€åŠŸèƒ½ï¼š

```bash
./quick_test.sh
```

è¿™ä¸ªè„šæœ¬ä¼šæµ‹è¯•ï¼š
- âœ… å¥åº·æ£€æŸ¥
- âœ… ç³»ç»Ÿèƒ½åŠ›æŸ¥è¯¢
- âœ… æ”¯æŒçš„è¯­è¨€åˆ—è¡¨
- âœ… ç›‘æ§æŒ‡æ ‡

## ğŸµ éŸ³é¢‘å¤„ç†æµ‹è¯•

### æµ‹è¯•éŸ³é¢‘æ–‡ä»¶

é¡¹ç›®çš„ `test/` ç›®å½•åŒ…å«æµ‹è¯•éŸ³é¢‘æ–‡ä»¶ï¼š
- `test.wav` (1.2MB) - WAVæ ¼å¼éŸ³é¢‘
- `test.opus` (26KB) - OPUSæ ¼å¼éŸ³é¢‘

### è¿è¡ŒéŸ³é¢‘æµ‹è¯•

```bash
./test_audio.sh
```

è¿™ä¸ªè„šæœ¬ä¼šæµ‹è¯•ï¼š
- ğŸ¯ WAVæ–‡ä»¶è½¬å½•
- ğŸ¯ OPUSæ–‡ä»¶è½¬å½•  
- ğŸ¯ è½¬å½•+ç¿»è¯‘ï¼ˆå¤šè¯­è¨€ï¼‰
- ğŸ¯ JSONæ ¼å¼è¯·æ±‚
- ğŸ¯ ä¸åŒä»»åŠ¡ç±»å‹ï¼ˆtranscribe/translate/bothï¼‰

## ğŸ” å…¨é¢APIæµ‹è¯•

è¿è¡Œå®Œæ•´çš„APIæµ‹è¯•å¥—ä»¶ï¼š

```bash
./test_api.sh
```

è¿™ä¸ªè„šæœ¬åŒ…å«ï¼š

### åŸºç¡€åŠŸèƒ½æµ‹è¯•
- å¥åº·æ£€æŸ¥
- èƒ½åŠ›æŸ¥è¯¢
- è¯­è¨€åˆ—è¡¨
- ç›‘æ§æŒ‡æ ‡

### è®¤è¯ä¸å®‰å…¨æµ‹è¯•
- æœ‰æ•ˆAPI Keyè®¤è¯
- æ— æ•ˆAPI Keyå¤„ç†
- æ— è®¤è¯è®¿é—®é˜²æŠ¤

### éŸ³é¢‘å¤„ç†æµ‹è¯•
- è¡¨å•æ–¹å¼æ–‡ä»¶ä¸Šä¼ 
- JSONæ–¹å¼Base64ç¼–ç 
- å¤šç§éŸ³é¢‘æ ¼å¼æ”¯æŒ
- ä¸åŒä»»åŠ¡ç±»å‹

### é”™è¯¯å¤„ç†æµ‹è¯•
- æ— æ•ˆæ–‡ä»¶æ ¼å¼
- ç¼ºå°‘å¿…éœ€å‚æ•°
- é”™è¯¯çš„ä»»åŠ¡ç±»å‹

### æ€§èƒ½æµ‹è¯•
- å¹¶å‘è¯·æ±‚å¤„ç†
- å“åº”æ—¶é—´ç»Ÿè®¡

## ğŸ“Š æµ‹è¯•è¾“å‡ºç¤ºä¾‹

### æˆåŠŸçš„éŸ³é¢‘å¤„ç†å“åº”

```json
{
  "request_id": "req_1701234567890",
  "status": "success",
  "transcription": "ä½ å¥½ï¼Œè¿™æ˜¯ä¸€æ®µæµ‹è¯•éŸ³é¢‘ã€‚",
  "translations": {
    "è‹±æ–‡": "Hello, this is a test audio.",
    "æ—¥æ–‡": "ã“ã‚“ã«ã¡ã¯ã€ã“ã‚Œã¯ãƒ†ã‚¹ãƒˆã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã§ã™ã€‚"
  },
  "processing_time": 2.5,
  "metadata": {
    "model": "qwen2.5-32b-instruct",
    "backend": "default",
    "audio_duration": 3.2,
    "audio_format": "wav"
  }
}
```

### ç³»ç»Ÿèƒ½åŠ›å“åº”

```json
{
  "tasks": ["transcribe", "translate", "both"],
  "audio_formats": ["wav", "mp3", "m4a", "opus", "flac"],
  "languages": ["ä¸­æ–‡", "è‹±æ–‡", "æ—¥æ–‡", "éŸ©æ–‡", "è¥¿ç­ç‰™è¯­", "æ³•è¯­", "å¾·è¯­"],
  "backends": ["default"],
  "max_file_size": 33554432,
  "features": {
    "batch_processing": false,
    "real_time": false,
    "webhooks": true
  }
}
```

## ğŸ› ï¸ è‡ªå®šä¹‰æµ‹è¯•

### ä¿®æ”¹æµ‹è¯•é…ç½®

å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡æˆ–å‚æ•°è‡ªå®šä¹‰æµ‹è¯•ï¼š

```bash
# è‡ªå®šä¹‰APIåœ°å€
./test_api.sh --base-url http://localhost:8081

# è‡ªå®šä¹‰API Key
./test_api.sh --api-key your-custom-key

# ä½¿ç”¨ç¯å¢ƒå˜é‡
export BASE_URL="http://your-server:8080"
export API_KEY="your-api-key"
./quick_test.sh
```

### æ·»åŠ è‡ªå·±çš„éŸ³é¢‘æ–‡ä»¶

å°†éŸ³é¢‘æ–‡ä»¶æ”¾åˆ° `test/` ç›®å½•ï¼Œç„¶åä¿®æ”¹è„šæœ¬ä¸­çš„æ–‡ä»¶è·¯å¾„ï¼š

```bash
TEST_AUDIO_WAV="test/your-audio.wav"
TEST_AUDIO_OPUS="test/your-audio.opus"
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æœåŠ¡æœªå¯åŠ¨**
   ```
   é”™è¯¯: æœåŠ¡æœªè¿è¡Œ
   è§£å†³: go run cmd/server/main.go
   ```

2. **è®¤è¯å¤±è´¥**
   ```
   é”™è¯¯: HTTP 401 Unauthorized
   è§£å†³: æ£€æŸ¥API Keyé…ç½®
   ```

3. **éŸ³é¢‘å¤„ç†å¤±è´¥**
   ```
   é”™è¯¯: LLM backend error
   è§£å†³: æ£€æŸ¥LLMåç«¯é…ç½®å’ŒçŠ¶æ€
   ```

### æ£€æŸ¥LLMåç«¯

```bash
# æ£€æŸ¥VLLMæœåŠ¡çŠ¶æ€
curl $VLLM_SERVER_URL/v1/models

# æ£€æŸ¥é…ç½®æ–‡ä»¶
cat config/config.yaml | grep -A 10 backends

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
tail -f logs/app.log
```

### è°ƒè¯•æ¨¡å¼

å¯ç”¨è¯¦ç»†æ—¥å¿—ï¼š

```bash
# è®¾ç½®æ—¥å¿—çº§åˆ«ä¸ºdebug
export LOG_LEVEL=debug
go run cmd/server/main.go
```

## ğŸ“ˆ æµ‹è¯•æŠ¥å‘Š

### æ€§èƒ½åŸºå‡†

æ­£å¸¸æƒ…å†µä¸‹çš„é¢„æœŸæ€§èƒ½ï¼š

- **å¥åº·æ£€æŸ¥**: < 10ms
- **èƒ½åŠ›æŸ¥è¯¢**: < 50ms  
- **è¯­è¨€åˆ—è¡¨**: < 20ms
- **éŸ³é¢‘å¤„ç†**: ä¾èµ–LLMåç«¯ï¼ˆé€šå¸¸2-10ç§’ï¼‰

### æ”¯æŒçš„æµ‹è¯•åœºæ™¯

- âœ… æœ¬åœ°å¼€å‘ç¯å¢ƒ
- âœ… Dockerå®¹å™¨ç¯å¢ƒ
- âœ… ç”Ÿäº§ç¯å¢ƒéªŒè¯
- âœ… CI/CDé›†æˆ
- âœ… è´Ÿè½½æµ‹è¯•

## ğŸš¨ æ³¨æ„äº‹é¡¹

1. **LLMåç«¯ä¾èµ–**: éŸ³é¢‘å¤„ç†åŠŸèƒ½éœ€è¦é…ç½®æœ‰æ•ˆçš„LLMåç«¯
2. **æ–‡ä»¶å¤§å°é™åˆ¶**: é»˜è®¤æœ€å¤§32MBéŸ³é¢‘æ–‡ä»¶
3. **ç½‘ç»œè¶…æ—¶**: é•¿éŸ³é¢‘å¤„ç†å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´
4. **å¹¶å‘é™åˆ¶**: æ ¹æ®é…ç½®çš„é™æµè®¾ç½®è°ƒæ•´å¹¶å‘æµ‹è¯•

## ğŸ¤ è´¡çŒ®æµ‹è¯•ç”¨ä¾‹

æ¬¢è¿æäº¤æ–°çš„æµ‹è¯•ç”¨ä¾‹ï¼š

1. åœ¨ç›¸åº”çš„è„šæœ¬ä¸­æ·»åŠ æµ‹è¯•å‡½æ•°
2. ç¡®ä¿æµ‹è¯•è¦†ç›–è¾¹ç•Œæƒ…å†µ
3. æ·»åŠ é€‚å½“çš„é”™è¯¯å¤„ç†
4. æ›´æ–°æ­¤æ–‡æ¡£è¯´æ˜

---

å¦‚æœ‰æµ‹è¯•ç›¸å…³é—®é¢˜ï¼Œè¯·æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£æˆ–æäº¤Issueã€‚ 